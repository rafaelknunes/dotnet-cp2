@model User

@{
    ViewData["Title"] = "Página do Usuário";
}

<div class="container mt-4">
    <div class="alert alert-danger" role="alert">
        <strong>Aviso:</strong> Se você sair desta página, ou editar o telefone, será deslogado.
    </div>

    <h1>Perfil do Usuário</h1>
    <table class="table table-hover">
        <thead class="thead-dark">
            <tr>
                <th>Propriedade</th>
                <th>Valor</th>
               </tr>
        </thead>
        <tbody>
            <tr>
                <td>Email</td>
                <td>@Model.UserEmail</td>
                <td></td>
            </tr>
            <tr>
                <td>Nome</td>
                <td>@Model.UserName</td>
                <td></td>
            </tr>
            <tr>
                <td>Telefone</td>
                <td>
                    @if (ViewBag.EditMode == true && ViewBag.EditField == "phone")
                    {
                        <form asp-action="EditUser" method="post">
                            <input type="hidden" name="id" value="@Model.Id" />
                            <input type="text" name="phone" value="@Model.UserPhone" class="form-control" />
                            <button type="submit" class="btn btn-success">Salvar</button>
                        </form>
                    }
                    else
                    {
                        @Model.UserPhone
                        <button onclick="location.href='@Url.Action("SetEdit", new { id = Model.Id, field = "phone" })'" class="btn btn-primary">Editar</button>
                    }
                </td>
            </tr>
        </tbody>
    </table>
</div>
